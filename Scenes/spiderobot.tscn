[gd_scene load_steps=16 format=3 uid="uid://bkdx3o1h65c48"]

[ext_resource type="Texture2D" uid="uid://1eq0jims8bnm" path="res://Assets/Sprites/Spider.png" id="1_a0hbt"]
[ext_resource type="PackedScene" uid="uid://cdmpw6fdkinrw" path="res://Scenes/killzone.tscn" id="2_dm7bn"]

[sub_resource type="GDScript" id="GDScript_5pn2a"]
script/source = "extends Node2D

@onready var animated_sprite_2d: AnimatedSprite2D = $AnimatedSprite2D
@onready var raycastright: RayCast2D = $raycastright
@onready var raycastleft: RayCast2D = $raycastleft

const SPEED = 70
var direction = 1

func _process(delta: float) -> void:
	if raycastright.is_colliding():
		direction = -1
		animated_sprite_2d.flip_h = true
		
	if raycastleft.is_colliding():
		direction = 1
		animated_sprite_2d.flip_h = false
	position.x += direction * SPEED * delta
"

[sub_resource type="AtlasTexture" id="AtlasTexture_6i0mx"]
atlas = ExtResource("1_a0hbt")
region = Rect2(0, 288, 96, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_gwc2x"]
atlas = ExtResource("1_a0hbt")
region = Rect2(96, 288, 96, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_17mhd"]
atlas = ExtResource("1_a0hbt")
region = Rect2(192, 288, 96, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_b2r4b"]
atlas = ExtResource("1_a0hbt")
region = Rect2(288, 288, 96, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_em63b"]
atlas = ExtResource("1_a0hbt")
region = Rect2(384, 288, 96, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_aq85h"]
atlas = ExtResource("1_a0hbt")
region = Rect2(480, 288, 96, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_2746x"]
atlas = ExtResource("1_a0hbt")
region = Rect2(576, 288, 96, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_kqgdg"]
atlas = ExtResource("1_a0hbt")
region = Rect2(672, 288, 96, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_hlcjc"]
atlas = ExtResource("1_a0hbt")
region = Rect2(768, 288, 96, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_f5l6k"]
atlas = ExtResource("1_a0hbt")
region = Rect2(864, 288, 96, 96)

[sub_resource type="SpriteFrames" id="SpriteFrames_evx2h"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_6i0mx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gwc2x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_17mhd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b2r4b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_em63b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_aq85h")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2746x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kqgdg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hlcjc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f5l6k")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_oss8c"]
radius = 85.2115

[node name="Spiderobot" type="Node2D"]
position = Vector2(61, 25)
script = SubResource("GDScript_5pn2a")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(181.5, -125)
scale = Vector2(4.78125, 3.60417)
sprite_frames = SubResource("SpriteFrames_evx2h")
autoplay = "default"
frame_progress = 0.646082

[node name="Area2D" parent="." instance=ExtResource("2_dm7bn")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
position = Vector2(122, -51)
shape = SubResource("CircleShape2D_oss8c")

[node name="raycastright" type="RayCast2D" parent="."]
position = Vector2(112, -55)
target_position = Vector2(126, 6)

[node name="raycastleft" type="RayCast2D" parent="."]
position = Vector2(106, -62)
target_position = Vector2(-117, 7)
